# UI国际化响应式优化 - 手动测试指南

## 🧪 测试目标
验证中英文语言切换时,UI布局保持稳定,无变形、溢出、错位现象。

## 📋 测试准备
1. 启动应用: `npm run dev`
2. 登录系统,确保有访问权限
3. 准备不同分辨率设备/浏览器窗口

## ✅ 核心测试场景

### 1. 交易管理视图 (TransactionsView)
**路径**: 导航栏 > 交易管理

#### 测试步骤:
1. **主表单编辑对话框**
   - 点击任意交易的"编辑"按钮
   - 观察表单标签宽度:
     * 中文: 标签应为120px左右,靠右对齐
     * 英文: 标签应为140px左右,有足够空间
   - 切换语言,观察:
     * ✅ 对话框宽度平滑变化
     * ✅ 标签无截断/换行
     * ✅ 输入框对齐整齐

2. **匹配抽屉 (Drawer)**
   - 点击工具栏"匹配"按钮
   - 打开"结汇/购汇/转账/费用"各标签页
   - 观察:
     * ✅ 抽屉宽度适配屏幕(小屏85vw)
     * ✅ 下拉框宽度100%填充
     * ✅ 表单标签中文100px/英文120px

3. **高级筛选抽屉**
   - 点击工具栏"筛选"按钮
   - 观察日期选择器、输入框:
     * ✅ 控件宽度弹性适配
     * ✅ 标签与控件对齐
     * ✅ 移动端无横向滚动

#### 断言检查:
- [ ] 对话框宽度: 桌面650px / 移动端90vw
- [ ] 抽屉宽度: 桌面560px / 移动端85vw
- [ ] 表单标签: 中文120px / 英文140px
- [ ] 输入框: min-width生效,无溢出

---

### 2. 工作台视图 (Workbench)
**路径**: 导航栏 > 工作台

#### 测试步骤:
1. **付款待审抽屉**
   - 点击"待审付款"卡片数字
   - 观察:
     * ✅ 平台选择下拉框宽度min-width:240px
     * ✅ 表格列宽自适应内容
     * ✅ 操作按钮不换行

2. **审核对话框**
   - 勾选任意待审项,点击"批量审核"
   - 观察:
     * ✅ 对话框宽度min(560px, 90vw)
     * ✅ 平台选择器宽度100%填充
     * ✅ 余额预览布局整齐

#### 断言检查:
- [ ] 抽屉宽度: 桌面980px / 移动端90vw
- [ ] 下拉框: 中英文placeholder完整显示
- [ ] 对话框: 移动端无横向滚动

---

### 3. 用户管理视图 (UserManagement)
**路径**: 导航栏 > 用户管理

#### 测试步骤:
1. **顶部新增用户表单**
   - 观察三个输入框(用户名/密码/显示名):
     * ✅ 宽度min-width:180px / max-width:220px
     * ✅ 中英文placeholder完整显示
     * ✅ 输入长文本时不撑破布局

2. **编辑用户对话框**
   - 点击任意用户的"编辑"按钮
   - 观察:
     * ✅ 权限多选框换行正常
     * ✅ 标签与控件对齐
     * ✅ 切换语言无跳动

#### 断言检查:
- [ ] 输入框宽度: 180-220px弹性范围
- [ ] 语言切换: 布局平滑过渡
- [ ] 权限列表: 无溢出容器

---

### 4. 购汇管理视图 (BuyFX)
**路径**: 导航栏 > 购汇

#### 测试步骤:
1. **紧凑模式表单**
   - 观察左侧购汇表单:
     * ✅ 标签宽度中文90px/英文110px
     * ✅ 币种选择器min-width:160px
     * ✅ 金额输入框min-width:240px
     * ✅ 平台选择器自适应

2. **平台管理对话框**
   - 点击右上角"管理平台"
   - 添加/编辑平台:
     * ✅ 对话框宽度min(600px, 90vw)
     * ✅ 表单标签中文100px/英文120px
     * ✅ 输入框宽度100%填充

#### 断言检查:
- [ ] 表单标签: 中文90px / 英文110px
- [ ] 输入数字框: 最小240px保证可用性
- [ ] 对话框: 移动端适配90vw

---

### 5. 结汇/付款视图 (FXSettlements/FXPayments)
**路径**: 导航栏 > 结汇 / 付款

#### 测试步骤:
1. **顶部筛选工具栏**
   - 观察客户选择下拉框:
     * ✅ 宽度min-width:220px / max-width:280px
     * ✅ 长客户名称完整显示
     * ✅ 状态下拉框min-width:140px

2. **详情抽屉**
   - 点击任意记录查看详情
   - 观察:
     * ✅ 单号/日期/金额等字段对齐
     * ✅ 银行Logo最大80px
     * ✅ 中英文标签宽度自适应

#### 断言检查:
- [ ] 下拉框: 弹性宽度220-280px
- [ ] 详情抽屉: 60%宽度,移动端85vw
- [ ] 文本溢出: 使用ellipsis截断

---

### 6. 交易统计视图 (TransactionsStats)
**路径**: 导航栏 > 统计

#### 测试步骤:
1. **筛选表单**
   - 观察日期选择器/输入框:
     * ✅ 所有控件min-width:160-220px
     * ✅ 弹性宽度适应flex布局
     * ✅ 换行时对齐整齐

2. **统计图表**
   - 切换语言观察图表标签:
     * ✅ 轴标签文字完整
     * ✅ 图例无溢出
     * ✅ 数据提示框正常

#### 断言检查:
- [ ] 输入框: 最小160px保证可输入
- [ ] 下拉框: 最大200-280px不过宽
- [ ] 图表: 语言切换无重排闪烁

---

## 📱 响应式测试

### 桌面端 (1920×1080)
- [ ] 对话框居中,左右留有边距
- [ ] 表单控件宽度适中,不过宽
- [ ] 工具栏按钮不换行

### 笔记本 (1366×768)
- [ ] 对话框适配屏幕,无滚动条
- [ ] 表单标签和控件对齐
- [ ] 抽屉宽度占屏幕60-80%

### 平板 (768×1024)
- [ ] 对话框使用90vw宽度
- [ ] 抽屉使用85vw宽度
- [ ] 输入框最小宽度生效

### 手机 (375×667)
- [ ] 对话框占满屏幕(90vw)
- [ ] 表单标签不截断
- [ ] 按钮不超出屏幕

## 🌐 浏览器兼容性

### Chrome/Edge (推荐)
- [ ] min()函数正常工作
- [ ] CSS变量生效
- [ ] 动态:label-width切换流畅

### Firefox
- [ ] 布局与Chrome一致
- [ ] 表单对齐正常
- [ ] 无性能问题

### Safari (iOS)
- [ ] 移动端对话框适配
- [ ] 输入框无缩放
- [ ] 触摸操作流畅

## ⚠️ 已知限制

1. **表格列宽**
   - 当前未实现语言感知的colW()
   - 英文列标题可能略显拥挤
   - 计划未来版本优化

2. **长文本截断**
   - 部分长英文词组(如"Transaction Date")可能在小屏截断
   - 已使用ellipsis处理
   - 鼠标悬停可查看完整文本

3. **动态内容**
   - 用户输入的长文本(如备注)未限制
   - 可能撑开容器
   - 建议添加字符数限制

## 📊 测试报告模板

### 测试环境
- 浏览器: ___________
- 分辨率: ___________
- 操作系统: ___________
- 测试时间: ___________

### 问题记录
| 视图 | 问题描述 | 严重性 | 截图 |
|------|---------|--------|------|
| TransactionsView | 标签截断 | 中 | [链接] |
| ... | ... | ... | ... |

### 总体评分
- 布局稳定性: ☆☆☆☆☆ / 5
- 语言切换流畅度: ☆☆☆☆☆ / 5
- 响应式适配: ☆☆☆☆☆ / 5
- 整体体验: ☆☆☆☆☆ / 5

### 建议改进
1. ...
2. ...
3. ...

---

**测试指南版本**: v1.0  
**对应代码版本**: commit 05966c4  
**更新日期**: 2025年10月18日
