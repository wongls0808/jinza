import{_ as g}from"./_plugin-vue_export-helper-c27b6911.js";import{r as _,o as k,a as s,b as x,c as U,d as v,e as o,w as l,f as p,t as N}from"./index-1eba32cc.js";const B={class:"customers"},S={class:"header"},T={__name:"Customers",setup(j){const f=_([]),u=_(!1),a=_({name:"",contact:"",phone:"",email:""});k(async()=>{await c()});const c=async()=>{try{const n=await fetch("/api/customers");n.ok&&(f.value=await n.json())}catch(n){console.error("加载客户失败:",n)}},y=async()=>{try{(await fetch("/api/customers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a.value)})).ok&&(u.value=!1,a.value={name:"",contact:"",phone:"",email:""},await c())}catch(n){console.error("添加客户失败:",n)}};return(n,e)=>{const i=s("el-button"),r=s("el-table-column"),V=s("el-tag"),b=s("el-table"),m=s("el-input"),d=s("el-form-item"),w=s("el-form"),C=s("el-dialog");return x(),U("div",B,[v("div",S,[e[8]||(e[8]=v("h2",null,"客户管理",-1)),o(i,{type:"primary",onClick:e[0]||(e[0]=t=>u.value=!0)},{default:l(()=>[...e[7]||(e[7]=[p("新增客户",-1)])]),_:1})]),o(b,{data:f.value,style:{width:"100%"}},{default:l(()=>[o(r,{prop:"name",label:"客户名称"}),o(r,{prop:"contact",label:"联系人"}),o(r,{prop:"phone",label:"电话"}),o(r,{prop:"email",label:"邮箱"}),o(r,{prop:"status",label:"状态"},{default:l(t=>[o(V,{type:t.row.status==="active"?"success":"info"},{default:l(()=>[p(N(t.row.status==="active"?"活跃":"停用"),1)]),_:2},1032,["type"])]),_:1})]),_:1},8,["data"]),o(C,{modelValue:u.value,"onUpdate:modelValue":e[6]||(e[6]=t=>u.value=t),title:"新增客户"},{footer:l(()=>[o(i,{onClick:e[5]||(e[5]=t=>u.value=!1)},{default:l(()=>[...e[9]||(e[9]=[p("取消",-1)])]),_:1}),o(i,{type:"primary",onClick:y},{default:l(()=>[...e[10]||(e[10]=[p("确定",-1)])]),_:1})]),default:l(()=>[o(w,{model:a.value},{default:l(()=>[o(d,{label:"客户名称"},{default:l(()=>[o(m,{modelValue:a.value.name,"onUpdate:modelValue":e[1]||(e[1]=t=>a.value.name=t)},null,8,["modelValue"])]),_:1}),o(d,{label:"联系人"},{default:l(()=>[o(m,{modelValue:a.value.contact,"onUpdate:modelValue":e[2]||(e[2]=t=>a.value.contact=t)},null,8,["modelValue"])]),_:1}),o(d,{label:"电话"},{default:l(()=>[o(m,{modelValue:a.value.phone,"onUpdate:modelValue":e[3]||(e[3]=t=>a.value.phone=t)},null,8,["modelValue"])]),_:1}),o(d,{label:"邮箱"},{default:l(()=>[o(m,{modelValue:a.value.email,"onUpdate:modelValue":e[4]||(e[4]=t=>a.value.email=t)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])}}},$=g(T,[["__scopeId","data-v-50f4f1c4"]]);export{$ as default};
